<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="group_health_portal_patient" model="res.groups">
        <field name="name">Patient</field>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        <field name="category_id" ref="health_portal.module_category_operations_health_portal"/>
    </record>

    <record id="group_health_portal_nurse" model="res.groups">
        <field name="name">Nurse</field>
        <field name="category_id" ref="health_portal.module_category_operations_health_portal"/>
        <field name="implied_ids" eval="[(4, ref('group_health_portal_patient'))]"/>
    </record>

    <record id="group_health_portal_doctor" model="res.groups">
        <field name="name">Doctor</field>
        <field name="category_id" ref="health_portal.module_category_operations_health_portal"/>
        <field name="implied_ids" eval="[(4, ref('group_health_portal_nurse'))]"/>
        <field name="users" eval="[(4, ref('base.user_root')), (4, ref('base.user_admin'))]"/>
    </record>
    
    <data noupdate="1">
        <!-- Multi - Company Rules -->

        <record model="ir.rule" id="health_patient_rule">
            <field name="name">health_patient</field>
            <field name="model_id" ref="model_health_patient"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id','child_of',[user.company_id.id])]</field>
        </record>

        <record model="ir.rule" id="health_medication_rule">
            <field name="name">health_medication</field>
            <field name="model_id" ref="model_health_medication"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id','child_of',[user.company_id.id])]</field>
        </record>

        <record model="ir.rule" id="health_medication_event_rule">
            <field name="name">health_medication_event</field>
            <field name="model_id" ref="model_health_medication_event"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id','child_of',[user.company_id.id])]</field>
        </record>

        <record model="ir.rule" id="health_condition_rule">
            <field name="name">health_condition</field>
            <field name="model_id" ref="model_health_condition"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id','child_of',[user.company_id.id])]</field>
        </record>

        <record model="ir.rule" id="health_condition_category_rule">
            <field name="name">health_condition_category</field>
            <field name="model_id" ref="model_health_condition_category"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id','child_of',[user.company_id.id])]</field>
        </record>

        <record model="ir.rule" id="health_condition_type_rule">
            <field name="name">health_condition_type</field>
            <field name="model_id" ref="model_health_condition_type"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id','child_of',[user.company_id.id])]</field>
        </record>

        <record model="ir.rule" id="health_event_rule">
            <field name="name">health_event</field>
            <field name="model_id" ref="model_health_event"/>
            <field name="global" eval="True"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id','child_of',[user.company_id.id])]</field>
        </record>
    </data>
</odoo>









